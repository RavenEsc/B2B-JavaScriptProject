<!DOCTYPE html>
<html>
<body>


<div>
    <!-- put your HTML code to input data here -->

    <input id="firstName" placeholder="First">
    <output id="fnameOutput"></output> <br><br>

    <input id="lastName" placeholder="Last">
    <output id="lnameOutput"></output> <br><br>

    <input id="userID" placeholder="ID">
    <output id="uidOutput"></output> <br><br>

    <input type="date" id="birthDate">
    <output id="birthdayOutput"></output>

    <button onclick="acceptScript()">Accept</button> <br><br>
    <output id="endOutput"></output>

    <p id="x20"></p>

    <h1 style="text-align: center;">How many lives does a cat have?</h1>
    <h2 style="text-align: center;" id="test"><input type="number" id="catLives"><br><button type="button" onclick="nineSum()">Answer</button></h2>
</div>

<script>
    // put your JavaScript code to read HTML inputs
    // and validate inputs here using if statements
    // and document.getElementById().innerHTML to display results
    // write your JS functions here
    // write your JS Loop For here to print the Xs
    // use something like document.write(str.padStart(i,"x") + "<br>");

    // user inputs their first name here
    function fnameScript() {
        let f = document.getElementById("firstName").value.toLowerCase(); // sets all characters to lowercase
        if(f !== "") {
        fname = f.charAt(0).toUpperCase() + f.slice(1); // capitalizes first letter
            return fname, document.getElementById("fnameOutput").innerHTML = ""; // sets the fname variable and clears any messages
        } else {
            return fname = null, document.getElementById("fnameOutput").innerHTML = "Invalid fname"; // sets the fname variable to null and notifies issue onscreen
        }
    }

    // user inputs their last name here
    function lnameScript() {
        let l = document.getElementById("lastName").value.toLowerCase(); // sets all characters to lowercase
        if(l !== "") {
        lname = l.charAt(0).toUpperCase() + l.slice(1); // capitalizes first letter
            return lname, document.getElementById("lnameOutput").innerHTML = ""; // sets the lname variable and clears any messages
        } else {
            return lname = null, document.getElementById("lnameOutput").innerHTML = "Invalid lname"; // sets the lname variable to null and notifies issue onscreen
        }
    }

    // concatenates first and last name together
    function fullnameScript(fname, lname) {
        // if both the fname and lname exist, set to fullname
        if(fname !== null && lname !== null) {
        fullname = fname + " " + lname;
            return fullname;
        } else {
            return fullname = null // otherwise set fullname to null
        }
    }

    function idScript() {
        let userID = document.getElementById("userID").value;
        if(userID.match(/[A-Z]/) && userID.match(/[a-z]/) && userID.match(/[0-9]/) && userID.length >= 8 && userID.length <= 12) {
            return uid = userID, document.getElementById("uidOutput").innerHTML = "";
        } else {
            return uid = null, document.getElementById("uidOutput").innerHTML = "Invalid uid";
        }
    }

    function birthScript() {
        let bday = document.getElementById("birthDate").value;
        if(bday !== "") {
            return birthday = bday, document.getElementById("birthdayOutput").innerHTML = ""
        } else {
            return birthday = null, document.getElementById("birthdayOutput").innerHTML = "Invalid birthday <br><br>";
        }
    }

    function dateDiff(birthday) {
        const today = new Date();
        if(birthday !== null) {
        let msBirth = new Date(birthday);
        let msDiff = today.getTime() - msBirth.getTime();
        dayDiff = Math.round(msDiff / (1000 * 60 * 60 * 24)); //From milliseconds, convert to seconds to minutes to hours to days
            return dayDiff;
        } else {
            return dayDiff = null;
        }
    }

    function acceptScript() {
        fnameScript();
        lnameScript();
        fullnameScript(fname, lname);

        idScript();

        birthScript();
        dateDiff(birthday);

        if(fname && lname && uid && birthday && dayDiff >= (365 * 18)) {
            return document.getElementById("endOutput").innerHTML = fullname + " you have been breathing for " + dayDiff + " days!"
        } else if(fname && lname && uid && birthday && dayDiff < (365 * 18)) {
            return document.getElementById("endOutput").innerHTML = "You are probably not old enough to take this class!"
        } else { 
            return document.getElementById("endOutput").innerHTML = ""
        }
    }

    function looperP() {
        let str = ""
        for (let i = 1; i <= 20; i++) {
            padded = str.padStart(i,"x");
            document.getElementById("x20").innerHTML += padded + "<br>";
        }
    }
    looperP()

    function nineSum() {
        const a = document.getElementById("catLives").value;
        if(a == 9) {
            return document.getElementById("test").innerHTML = "Correct, " + a + "!";
        } else if(a === "") {
            return document.getElementById("test").innerHTML = '<input type="number" id="catLives"><br>Invalid Response<br><button type="button" onclick="nineSum()">Answer</button>';
        } else {
        let b = Number(a)
        let c = 9 - b;
        let d = b + c;
            return document.getElementById("test").innerHTML = d + " not " + b + "!";
        }
    }
</script>

</body>
</html>
 